name: PR Automation

on:
  pull_request:
    types: [opened]

permissions:
  pull-requests: write

jobs:
  pr-comment:
    runs-on: ubuntu-latest
    steps:
      - name: Add PR welcome comment
        uses: actions/github-script@v7
        with:
          script: |
            const prNumber = context.payload.pull_request.number;
            const repo = context.repo;

            const message = `
             Thanks for opening this Pull Request!

            This repository follows a **platform-oriented workflow**.
            Before requesting review, please ensure:

            ‚Ä¢ CI pipelines are passing  
            ‚Ä¢ Changes are scoped to a single concern  
            ‚Ä¢ Platform / Kubernetes changes are documented  
            ‚Ä¢ Promotion and rollback considerations are clear  

            üîç Reviewers will focus on:
            ‚Ä¢ correctness over speed  
            ‚Ä¢ promotion safety  
            ‚Ä¢ separation of concerns  

            Thanks for contributing üöÄ
            `;

            await github.rest.issues.createComment({
              owner: repo.owner,
              repo: repo.repo,
              issue_number:prNumber,
              body: message
            });
            
            